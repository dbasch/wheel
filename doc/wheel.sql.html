<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>wheel.sql documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Wheel 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span>Namespaces</span></a></h3><ul><li><a href="wheel.core.html"><span>wheel.core</span></a></li><li class="current"><a href="wheel.sql.html"><span>wheel.sql</span></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span>Public Vars</span></a></h3><ul><li><a href="wheel.sql.html#var-add-user"><span>add-user</span></a></li><li><a href="wheel.sql.html#var-change-password"><span>change-password</span></a></li><li><a href="wheel.sql.html#var-check"><span>check</span></a></li><li><a href="wheel.sql.html#var-config"><span>config</span></a></li><li><a href="wheel.sql.html#var-delete-user"><span>delete-user</span></a></li><li><a href="wheel.sql.html#var-insert-user"><span>insert-user</span></a></li><li><a href="wheel.sql.html#var-migration"><span>migration</span></a></li><li><a href="wheel.sql.html#var-query-user"><span>query-user</span></a></li><li><a href="wheel.sql.html#var-set-password"><span>set-password</span></a></li><li><a href="wheel.sql.html#var-update-key"><span>update-key</span></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">wheel.sql documentation</h2><pre class="doc"></pre><div class="public anchor" id="var-add-user"><h3>add-user</h3><div class="usage"><code>(add-user id password &amp; user-map)</code></div><pre class="doc">Creates a database record for the given id and password. user-map must be
consistent with the user table schema supplied in the config file.</pre></div><div class="public anchor" id="var-change-password"><h3>change-password</h3><div class="usage"><code>(change-password id old-pass new-pass)</code></div><pre class="doc">Changes the password to new-pass, if old-pass is the valid password for id.
</pre></div><div class="public anchor" id="var-check"><h3>check</h3><div class="usage"><code>(check id password)</code></div><pre class="doc">Verifies that the supplied password is valid.
</pre></div><div class="public anchor" id="var-config"><h3>config</h3><div class="usage"></div><pre class="doc"></pre></div><div class="public anchor" id="var-delete-user"><h3>delete-user</h3><div class="usage"><code>(delete-user id)</code></div><pre class="doc">Deletes the database record for id.
</pre></div><div class="public anchor" id="var-insert-user"><h3>insert-user</h3><div class="usage"><code>(insert-user {:keys [id key], :as user-map})</code></div><pre class="doc">Inserts a user record into the database. The user map must contain an id and a key.
</pre></div><div class="public anchor" id="var-migration"><h3>migration</h3><div class="usage"><code>(migration)</code></div><pre class="doc">Creates the user database according to the schema defined in the config file.
</pre></div><div class="public anchor" id="var-query-user"><h3>query-user</h3><div class="usage"><code>(query-user id)</code></div><pre class="doc">Retrieves a user record from the database.
</pre></div><div class="public anchor" id="var-set-password"><h3>set-password</h3><div class="usage"><code>(set-password id password)</code></div><pre class="doc">Sets the password for id.
</pre></div><div class="public anchor" id="var-update-key"><h3>update-key</h3><div class="usage"><code>(update-key id key)</code></div><pre class="doc">Replaces the key for the user identified by id.
</pre></div></div></body></html>